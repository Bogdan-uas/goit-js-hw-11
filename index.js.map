{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48185662-a1ecae6a7cb89564c9e1793e1'\nconst BASE_URL = 'https://pixabay.com/api/'\n\nexport const fetchImages = async (query, page = 1, perPage = 12) => {\nconst params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    page: page,\n    per_page: perPage,\n})\n\nconst url = `${BASE_URL}?${params.toString()}`\n\ntry {\n    const response = await fetch(url)\n    if (!response.ok) {\n        throw new Error(`HTTP Error: ${response.status}`)\n    }\n    return await response.json()\n    } catch (error) {\n        throw error\n    }\n}","import SimpleLightbox from 'simplelightbox'\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nlet lightbox\n\nexport const renderGallery = (images) => {\nconst gallery = document.querySelector('.gallery')\nconst markup = images\n    .map(\n    ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<div class='photo-card'>\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"\"lazy/>\n        </a>\n        <div class=\"info\">\n        <div>\n            <p>Likes</p>\n            <p>${likes}</p>\n        </div>\n        <div>\n            <p>Views</p>\n            <p>${views}</p>\n        </div>\n        <div>\n            <p>Comments</p>\n            <p>${comments}</p>\n        </div>\n        <div>\n            <p>Downloads</p>\n            <p>${downloads}</p>\n        </div>\n        </div>\n    </div>`\n    )\n    .join('')\n\ngallery.insertAdjacentHTML('beforeend', markup)\n\nif (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    })\n} else {\n    lightbox.refresh()\n}\n}\n\nexport const clearGallery = () => {\nconst gallery = document.querySelector('.gallery')\ngallery.innerHTML = ''\n}","import { fetchImages } from './js/pixabay-api'\nimport { renderGallery, clearGallery } from './js/render-functions'\nimport iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\n\n\nconst form = document.querySelector('.search-form')\nconst loader = document.querySelector('.loader')\n\nlet currentPage = 1\nlet currentQuery = ''\nconst perPage = 12\n\nform.addEventListener('submit', onSearch)\n\nasync function onSearch(e) {\ne.preventDefault()\nconst query = e.currentTarget.elements.search.value.trim()\n\nif (!query) {\n    iziToast.warning({\n    title: 'Warning',\n    message: 'Search query cannot be empty!',\n    position: 'topRight',\n    })\n    return\n}\n\ncurrentQuery = query\ncurrentPage = 1\nclearGallery()\ntoggleLoader(true)\n\ntry {\n    const data = await fetchImages(currentQuery, currentPage, perPage)\n\n    if (data.hits.length === 0) {\n    iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n    })\n    return\n    }\n    renderGallery(data.hits)\n} catch (error) {\n    iziToast.error({\n    title: 'Error',\n    message: `Something went wrong: ${error.message}`,\n    position: 'topRight',\n    })\n} finally {\n    toggleLoader(false)\n}\n}\n\nconst toggleLoader = (isLoading) => (loader.style.display = isLoading ? 'inline-block' : 'none')"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","params","url","response","error","lightbox","renderGallery","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","form","loader","currentPage","currentQuery","onSearch","e","iziToast","toggleLoader","data","isLoading"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAc,MAAOC,EAAOC,EAAO,EAAGC,EAAU,KAAO,CACpE,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKN,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAUC,CACd,CAAC,EAEKE,EAAM,GAAGN,CAAQ,IAAIK,EAAO,SAAQ,CAAE,GAE5C,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,eAAeA,EAAS,MAAM,EAAE,EAEpD,OAAO,MAAMA,EAAS,KAAM,CAC3B,OAAQC,EAAO,CACZ,MAAMA,CACT,CACL,ECtBA,IAAIC,EAEG,MAAMC,EAAiBC,GAAW,CACzC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACV,IACD,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACrE;AAAA,mBACWL,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iBAK7BC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA,WAIrB,EACA,KAAK,EAAE,EAEZR,EAAQ,mBAAmB,YAAaC,CAAM,EAEzCJ,EAMDA,EAAS,QAAS,EALlBA,EAAW,IAAIY,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAK,CAIL,EAEaC,EAAe,IAAM,CAClC,MAAMV,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACpB,EC7CMW,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAc,EACdC,EAAe,GACnB,MAAMtB,EAAU,GAEhBmB,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,eAAeA,EAASC,EAAG,CAC3BA,EAAE,eAAgB,EAClB,MAAM1B,EAAQ0B,EAAE,cAAc,SAAS,OAAO,MAAM,KAAM,EAE1D,GAAI,CAAC1B,EAAO,CACR2B,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,gCACT,SAAU,UACd,CAAK,EACD,MACJ,CAEAH,EAAexB,EACfuB,EAAc,EACdH,EAAc,EACdQ,EAAa,EAAI,EAEjB,GAAI,CACA,MAAMC,EAAO,MAAM9B,EAAYyB,EAAcD,EAAarB,CAAO,EAEjE,GAAI2B,EAAK,KAAK,SAAW,EAAG,CAC5BF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAClB,CAAK,EACD,MACC,CACDnB,EAAcqB,EAAK,IAAI,CAC3B,OAASvB,EAAO,CACZqB,EAAS,MAAM,CACf,MAAO,QACP,QAAS,yBAAyBrB,EAAM,OAAO,GAC/C,SAAU,UACd,CAAK,CACL,QAAU,CACNsB,EAAa,EAAK,CACtB,CACA,CAEA,MAAMA,EAAgBE,GAAeR,EAAO,MAAM,QAAUQ,EAAY,eAAiB"}